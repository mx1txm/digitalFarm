{% extends "digitalFarm/base.html" %}

{% block content %}
<!-- Page Content -->
<div>
    <h3>Filter Product</h3>
    <form method="GET">
        <div class="form-row">
            <div class="form-group col-md-12">
                <div class="input-group">
                    <input class="form-control py-2 border-right-0 border" type="search" name="title_contains" placeholder="Title contains...">
                    <span class="input-group-append">
                        <div class="input-group-text bg-transparent">
                            <i class="fa fa-search"></i>
                        </div>
                    </span>
                </div>
            </div>
            <div class="form-row">
            <div class="form-group col-md-4">
                <label for="inputState">City</label>
                <select id="inputState0" name='city' class="form-control">
                    <option selected>Choose...</option>
                    <option value="Istanbul">Istanbul</option>
                    <option value="Rize">Rize</option>
                    <option value="Denizli">Denizli</option>
                    <option value="Aydin">Aydin</option>
                    <option value="Izmir">Izmir</option>
                    <option value="Antalya">Antalya</option>
                </select>
            </div>
            <div class="form-group col-md-4">
                <label for="inputState">Category</label>
                <select id="inputState" name='category' class="form-control">
                    <option selected>Choose...</option>
                    <option value="fruits">fruits</option>
                    <option value="legumes">legumes</option>
                    <option value="veggies">veggies</option>
                    <option value="nuts">nuts</option>
                    <option value="honey">honey</option>
                    <option value="oil">oil</option>
                    <option value="tea">tea</option>
                    <option value="wheat">wheat</option>
                </select>
            </div>
            <div class="form-group col-md-4">
                <label for="inputState">Product</label>
                <select id="inputState2" name="item" class="form-control">
                    <option selected>Choose...</option>
                    {% for item in transactionSubCategory %}
                        {% if item.category == 'fruits' %} <!-- bis hierhin klappts -->
                            <option value="{{item.value}}">{{ fruits_list }}</option>  <!-- fruits_list gibt die ganze liste aus -->
                        {% endif %}
                    {% endfor %}
                    <option value="banana">banana</option>
                    <option value="orange">orange</option>
                    <option value="strawberry">strawberry</option>
                </select>
            </div>
            </div>
            <div class="form-group col-md-3">
                <label for="inputEmail1">Price  $</label>
                <input type="number" class="form-control" id="price" name="price" placeholder="Price ">
            </div>
            <div class="form-group col-md-3">
                <label for="inputPassword4">Menge </label>
                <input type="number" class="form-control" id="menge" name="amount" placeholder="Menge ">
            </div>
        </div>
        <!-- <div class="form-group" style="display: inline"> -->
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="publishDateMin">Publish date minimum</label>
                <input type="date" class="form-control" id="publishDateMin" name="date_min" value="YYYY-MM-DD">
            </div>
            <div class="form-group col-md-6">
                <label for="publishDateMax">Publish date maximum</label>
                <input type="date" class="form-control" id="publishDateMax" name="date_max" value="YYYY-MM-DD">
            </div>
        </div>
        <div class="form-group">
            <div class="form-check">
                <div>
                <input class="form-check-input" type="checkbox" id="gridCheck">
                <label class="form-check-label" for="gridCheck">
                    GMO Free
                </label>
                </div>
                <div>
                <input class="form-check-input" type="checkbox" id="gridCheck2">
                <label class="form-check-label" for="gridCheck">
                    Organic
                </label>
                </div>
                <div>
                <input class="form-check-input" type="checkbox" id="gridCheck3">
                <label class="form-check-label" for="gridCheck">
                    Fair trade
                </label>
                </div>
            </div>
        </div>
        <button type="submit" class="btn btn-primary">Search</button>
    </form>
    <hr>
    <!-- LISTS ALL FILTERED POSTS -->
    <div>
    {% for posts in queryset %}
      <div class="content-section">
             <div class="media">
                    <img class="rounded-circle account-img" src="{{ posts.author.profile.image.url }}">
                    <div class="media-body">
                        <a class="mr-2" href="#">{{ posts.author }}</a>
                        <small class="text-muted">{{ posts.date_posted|date:"F d, Y"}}</small>
                        <h2><a class="article-title" href="{% url 'digitalFarm-detail' posts.id %}">{{ posts.title }}</a></h2>
                        <div>
                           <p class="article-content">{{ posts.content }}</p>
                           <p class="text-secondary">{{ posts.author }}</p>
                           <p class="text-secondary">{{ posts.date_posted }}</p>
                           <p class="text-secondary">{{ post.city}}</p>
                           <p class="text-secondary">{{ post.category}}</p>
                        </div>
                    </div>
             </div>
      </div>
    {% endfor %}
    </div>
</div>
<!-- /.container -->
{% endblock content %}
